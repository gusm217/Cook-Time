{"ast":null,"code":"var _jsxFileName = \"/home/vinicius/Desktop/AppRecipes/sd-011-project-recipes-app/src/Pages/Components/SingleFoodItem.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport copy from 'clipboard-copy';\nimport { useHistory, useParams } from 'react-router-dom';\nimport CarrouselDrinks from './CarrouselDrinks';\nimport shareIcon from \"../../images/shareIcon.svg\";\nimport '../../styles/detail-screen.css';\nimport { convertUrlToID, manageDetailAPI, managePathname } from '../../Helpers/convertUrlToID';\nimport embedYouTubeVideo from '../../Helpers/embedYouTubeVideo';\n\nfunction SingleFoodItem() {\n  const {\n    id\n  } = useParams();\n  const currentStorage = JSON.parse(localStorage.getItem('inProgressRecipes'));\n  const history = useHistory();\n  const currentURL = window.location.pathname;\n  const [itemDetail, setItemDetail] = useState({\n    meals: null\n  });\n  const itemId = convertUrlToID(window.location.pathname);\n  const arrayOfIngredients = [];\n  const arrayOfMeasures = [];\n  useEffect(() => {\n    const fetchFood = async () => {\n      const response = await fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${itemId}`);\n      const detailRequest = await response.json();\n      setItemDetail(manageDetailAPI(detailRequest));\n    };\n\n    fetchFood(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function copyToClip() {\n    // window.location.pathname\n    const copyText = `https://localhost:3000${window.location.pathname}`;\n    copyText.select();\n    document.execCommand('copy');\n  } // Parte que separa os ingredientes da receitas\n\n\n  if (itemDetail.meals !== null) {\n    const food = itemDetail.meals[0];\n    const arrayOfIngredientsKey = Object.keys(food).filter(key => key.includes('strIngredient'));\n    const arrayOfMeasuresKey = Object.keys(food).filter(key => key.includes('strMeasure'));\n    arrayOfIngredientsKey.map(ingredient => {\n      if (food[ingredient] !== '' && food[ingredient] !== ' ' && food[ingredient] !== null) {\n        arrayOfIngredients.push(food[ingredient]);\n      }\n\n      return null;\n    });\n    arrayOfMeasuresKey.map(ingredient => {\n      if (food[ingredient] !== '' && food[ingredient] !== ' ' && food[ingredient] !== null) {\n        arrayOfMeasures.push(food[ingredient]);\n      }\n\n      return null;\n    });\n  }\n\n  const {\n    meals\n  } = itemDetail;\n  return itemDetail.meals !== null && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    \"data-testid\": \"recipe-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, meals[0].strMeal), /*#__PURE__*/React.createElement(\"img\", {\n    width: \"350\",\n    src: meals[0].strMealThumb,\n    alt: `Foto da comida chamada ${meals[0].strMeal}`,\n    \"data-testid\": \"recipe-photo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"share-btn\",\n    onClick: () => copy(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: shareIcon,\n    alt: `Compartilhe esta receita de ${meals[0].strMeal}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"favorite-btn\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, \"Favoritar\"), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"recipe-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, meals[0].strCategory), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, \"Ingredientes\"), /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, arrayOfIngredients.map((ingredient, i) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: `${ingredient}-${i}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    \"data-testid\": `${i}-ingredient-name-and-measure`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, `${arrayOfIngredients[i]} - ${arrayOfMeasures[i]}`))))), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, \"Instru\\xE7\\xF5es\"), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, meals[0].strInstructions)), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, \"Instru\\xE7\\xF5es em v\\xEDdeo\"), /*#__PURE__*/React.createElement(\"embed\", {\n    \"data-testid\": \"video\",\n    src: embedYouTubeVideo(meals[0].strYoutube),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(CarrouselDrinks, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"start-recipe-btn\",\n    type: \"button\",\n    className: \"start-recipe-button\",\n    onClick: () => history.push(`/comidas/${managePathname(currentURL)}/in-progress`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, currentStorage && currentStorage.meals[id] ? 'Continuar Receita' : 'Iniciar Receita'));\n}\n\nexport default SingleFoodItem;","map":{"version":3,"sources":["/home/vinicius/Desktop/AppRecipes/sd-011-project-recipes-app/src/Pages/Components/SingleFoodItem.jsx"],"names":["React","useEffect","useState","copy","useHistory","useParams","CarrouselDrinks","convertUrlToID","manageDetailAPI","managePathname","embedYouTubeVideo","SingleFoodItem","id","currentStorage","JSON","parse","localStorage","getItem","history","currentURL","window","location","pathname","itemDetail","setItemDetail","meals","itemId","arrayOfIngredients","arrayOfMeasures","fetchFood","response","fetch","detailRequest","json","copyToClip","copyText","select","document","execCommand","food","arrayOfIngredientsKey","Object","keys","filter","key","includes","arrayOfMeasuresKey","map","ingredient","push","strMeal","strMealThumb","shareIcon","strCategory","i","strInstructions","strYoutube"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport copy from 'clipboard-copy';\nimport { useHistory, useParams } from 'react-router-dom';\nimport CarrouselDrinks from './CarrouselDrinks';\nimport shareIcon from '../../images/shareIcon.svg';\nimport '../../styles/detail-screen.css';\nimport {\n  convertUrlToID,\n  manageDetailAPI,\n  managePathname } from '../../Helpers/convertUrlToID';\nimport embedYouTubeVideo from '../../Helpers/embedYouTubeVideo';\n\nfunction SingleFoodItem() {\n  const { id } = useParams();\n  const currentStorage = JSON.parse(localStorage.getItem('inProgressRecipes'));\n  const history = useHistory();\n  const currentURL = window.location.pathname;\n  const [itemDetail, setItemDetail] = useState({ meals: null });\n  const itemId = convertUrlToID(window.location.pathname);\n  const arrayOfIngredients = [];\n  const arrayOfMeasures = [];\n\n  useEffect(() => {\n    const fetchFood = async () => {\n      const response = await fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${itemId}`);\n      const detailRequest = await response.json();\n      setItemDetail(manageDetailAPI(detailRequest));\n    };\n    fetchFood();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function copyToClip() {\n    // window.location.pathname\n    const copyText = `https://localhost:3000${window.location.pathname}`;\n    copyText.select();\n    document.execCommand('copy');\n  }\n\n  // Parte que separa os ingredientes da receitas\n  if (itemDetail.meals !== null) {\n    const food = itemDetail.meals[0];\n\n    const arrayOfIngredientsKey = Object\n      .keys(food).filter((key) => key.includes('strIngredient'));\n    const arrayOfMeasuresKey = Object\n      .keys(food).filter((key) => key.includes('strMeasure'));\n    arrayOfIngredientsKey.map((ingredient) => {\n      if ((food[ingredient] !== ''\n      && food[ingredient] !== ' '\n      && food[ingredient] !== null)) {\n        arrayOfIngredients.push(food[ingredient]);\n      }\n      return null;\n    });\n    arrayOfMeasuresKey.map((ingredient) => {\n      if ((food[ingredient] !== ''\n      && food[ingredient] !== ' '\n      && food[ingredient] !== null)) {\n        arrayOfMeasures.push(food[ingredient]);\n      }\n      return null;\n    });\n  }\n\n  const { meals } = itemDetail;\n  return itemDetail.meals !== null && (\n    <div>\n      <h1 data-testid=\"recipe-title\">{meals[0].strMeal}</h1>\n      <img\n        width=\"350\"\n        src={ meals[0].strMealThumb }\n        alt={ `Foto da comida chamada ${meals[0].strMeal}` }\n        data-testid=\"recipe-photo\"\n      />\n      <button type=\"button\" data-testid=\"share-btn\" onClick={ () => copy() }>\n        <img\n          src={ shareIcon }\n          alt={ `Compartilhe esta receita de ${meals[0].strMeal}` }\n        />\n      </button>\n      <button data-testid=\"favorite-btn\" type=\"button\">Favoritar</button>\n      <p data-testid=\"recipe-category\">{meals[0].strCategory}</p>\n      <section>\n        <h2>Ingredientes</h2>\n        <table>\n          { arrayOfIngredients.map((ingredient, i) => (\n            <tr key={ `${ingredient}-${i}` }>\n              <th\n                data-testid={ `${i}-ingredient-name-and-measure` }\n              >\n                {`${arrayOfIngredients[i]} - ${arrayOfMeasures[i]}`}\n              </th>\n            </tr>\n          ))}\n        </table>\n      </section>\n      <section>\n        <h2>Instruções</h2>\n        <p data-testid=\"instructions\">{meals[0].strInstructions}</p>\n      </section>\n      <section>\n        <h2>Instruções em vídeo</h2>\n        <embed data-testid=\"video\" src={ embedYouTubeVideo(meals[0].strYoutube) } />\n      </section>\n      <CarrouselDrinks />\n      <button\n        data-testid=\"start-recipe-btn\"\n        type=\"button\"\n        className=\"start-recipe-button\"\n        onClick={ () => history\n          .push(`/comidas/${managePathname(currentURL)}/in-progress`) }\n      >\n        { currentStorage && currentStorage.meals[id] ? 'Continuar Receita' : 'Iniciar Receita'}\n      </button>\n    </div>\n  );\n}\n\nexport default SingleFoodItem;\n"]},"metadata":{},"sourceType":"module"}