{"ast":null,"code":"var _jsxFileName = \"/home/vinicius/Desktop/AppRecipes/sd-011-project-recipes-app/src/Pages/Components/SingleDrinkItem.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { manageDetailAPI } from '../../Helpers/convertUrlToID';\nimport CarrouselFoods from './CarrouselFoods';\n\nfunction SingleFoodItem() {\n  const {\n    id\n  } = useParams();\n  const currentStorage = JSON.parse(localStorage.getItem('inProgressRecipes'));\n  const history = useHistory();\n  const [itemDetail, setItemDetail] = useState({\n    drinks: null\n  });\n  const arrayOfIngredients = [];\n  const arrayOfMeasures = [];\n  useEffect(() => {\n    const FetchDrink = async () => {\n      const response = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`);\n      const detailRequest = await response.json();\n      setItemDetail(manageDetailAPI(detailRequest));\n    };\n\n    FetchDrink(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  if (itemDetail.meals) return null; // Parte que separa os ingredientes da receitas\n\n  if (itemDetail.drinks !== null) {\n    const drink = itemDetail.drinks[0];\n    console.log(drink);\n    const arrayOfIngredientsKey = Object.keys(drink).filter(key => key.includes('strIngredient'));\n    const arrayOfMeasuresKey = Object.keys(drink).filter(key => key.includes('strMeasure'));\n    arrayOfIngredientsKey.map(ingredient => {\n      if (drink[ingredient] !== '' && drink[ingredient] !== ' ' && drink[ingredient] !== null) {\n        arrayOfIngredients.push(drink[ingredient]);\n      }\n\n      return null;\n    });\n    arrayOfMeasuresKey.map(ingredient => {\n      if (drink[ingredient] !== '' && drink[ingredient] !== ' ' && drink[ingredient] !== null) {\n        arrayOfMeasures.push(drink[ingredient]);\n      }\n\n      return null;\n    });\n  }\n\n  const {\n    drinks\n  } = itemDetail;\n  return itemDetail.drinks !== null && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    \"data-testid\": \"recipe-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, drinks[0].strDrink), /*#__PURE__*/React.createElement(\"img\", {\n    width: \"350\",\n    src: drinks[0].strDrinkThumb,\n    alt: `Foto da bebida chamada ${drinks[0].strDrink}`,\n    \"data-testid\": \"recipe-photo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"recipe-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, drinks[0].strAlcoholic), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"share-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, \"Compartilhar\"), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"favorite-btn\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, \"Favoritar\"), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"recipe-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, drinks[0].strCategory), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, \"Ingredientes\"), /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, arrayOfIngredients.map((ingred, i) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: `${ingred}-${i}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    \"data-testid\": `${i}-ingredient-name-and-measure`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, `${arrayOfIngredients[i]} ${arrayOfMeasures[i] ? ` - ${arrayOfMeasures[i]}` : ''} `))))), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \"Instru\\xE7\\xF5es\"), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, drinks[0].strInstructions)), /*#__PURE__*/React.createElement(CarrouselFoods, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"start-recipe-btn\",\n    type: \"button\",\n    className: \"start-recipe-button\",\n    onClick: () => history.push(`/bebidas/${id}/in-progress`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, currentStorage && currentStorage.cocktails[id] ? 'Continuar Receita' : 'Iniciar Receita', \"Iniciar Receita\"));\n}\n\nexport default SingleFoodItem;","map":{"version":3,"sources":["/home/vinicius/Desktop/AppRecipes/sd-011-project-recipes-app/src/Pages/Components/SingleDrinkItem.jsx"],"names":["React","useEffect","useState","useHistory","useParams","manageDetailAPI","CarrouselFoods","SingleFoodItem","id","currentStorage","JSON","parse","localStorage","getItem","history","itemDetail","setItemDetail","drinks","arrayOfIngredients","arrayOfMeasures","FetchDrink","response","fetch","detailRequest","json","meals","drink","console","log","arrayOfIngredientsKey","Object","keys","filter","key","includes","arrayOfMeasuresKey","map","ingredient","push","strDrink","strDrinkThumb","strAlcoholic","strCategory","ingred","i","strInstructions","cocktails"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { manageDetailAPI } from '../../Helpers/convertUrlToID';\nimport CarrouselFoods from './CarrouselFoods';\n\nfunction SingleFoodItem() {\n  const { id } = useParams();\n  const currentStorage = JSON.parse(localStorage.getItem('inProgressRecipes'));\n  const history = useHistory();\n  const [itemDetail, setItemDetail] = useState({ drinks: null });\n  const arrayOfIngredients = [];\n  const arrayOfMeasures = [];\n\n  useEffect(() => {\n    const FetchDrink = async () => {\n      const response = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`);\n      const detailRequest = await response.json();\n      setItemDetail(manageDetailAPI(detailRequest));\n    };\n    FetchDrink();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  if (itemDetail.meals) return null;\n  // Parte que separa os ingredientes da receitas\n  if (itemDetail.drinks !== null) {\n    const drink = itemDetail.drinks[0];\n    console.log(drink);\n\n    const arrayOfIngredientsKey = Object\n      .keys(drink).filter((key) => key.includes('strIngredient'));\n    const arrayOfMeasuresKey = Object\n      .keys(drink).filter((key) => key.includes('strMeasure'));\n    arrayOfIngredientsKey.map((ingredient) => {\n      if (drink[ingredient] !== ''\n      && drink[ingredient] !== ' '\n      && drink[ingredient] !== null) {\n        arrayOfIngredients.push(drink[ingredient]);\n      }\n      return null;\n    });\n    arrayOfMeasuresKey.map((ingredient) => {\n      if (drink[ingredient] !== ''\n      && drink[ingredient] !== ' '\n      && drink[ingredient] !== null) {\n        arrayOfMeasures.push(drink[ingredient]);\n      }\n      return null;\n    });\n  }\n  const { drinks } = itemDetail;\n\n  return itemDetail.drinks !== null && (\n    <div>\n      <h1 data-testid=\"recipe-title\">{drinks[0].strDrink}</h1>\n      <img\n        width=\"350\"\n        src={ drinks[0].strDrinkThumb }\n        alt={ `Foto da bebida chamada ${drinks[0].strDrink}` }\n        data-testid=\"recipe-photo\"\n      />\n      <p data-testid=\"recipe-category\">{drinks[0].strAlcoholic}</p>\n      <button type=\"button\" data-testid=\"share-btn\">Compartilhar</button>\n      <button data-testid=\"favorite-btn\" type=\"button\">Favoritar</button>\n      <p data-testid=\"recipe-category\">{drinks[0].strCategory}</p>\n      <section>\n        <h2>Ingredientes</h2>\n        <table>\n          { arrayOfIngredients.map((ingred, i) => (\n            <tr key={ `${ingred}-${i}` }>\n              <th data-testid={ `${i}-ingredient-name-and-measure` }>\n                {`${arrayOfIngredients[i]} ${arrayOfMeasures[i]\n                  ? ` - ${arrayOfMeasures[i]}` : ''} `}\n              </th>\n            </tr>\n          ))}\n        </table>\n      </section>\n      <section>\n        <h2>Instruções</h2>\n        <p data-testid=\"instructions\">{drinks[0].strInstructions}</p>\n      </section>\n      <CarrouselFoods />\n      <button\n        data-testid=\"start-recipe-btn\"\n        type=\"button\"\n        className=\"start-recipe-button\"\n        onClick={ () => history\n          .push(`/bebidas/${id}/in-progress`) }\n      >\n        { currentStorage\n        && currentStorage.cocktails[id] ? 'Continuar Receita' : 'Iniciar Receita'}\n        Iniciar Receita\n      </button>\n    </div>\n  );\n}\n\nexport default SingleFoodItem;\n"]},"metadata":{},"sourceType":"module"}